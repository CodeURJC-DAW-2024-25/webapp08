{{>header}}
		
		<!-- SECTION -->
		<div class="section">
			
			<!-- container -->
			<div class="container">
				<h2>FEATURED PRODUCTS</h2>
				<!-- row -->
				<div class="row" id="indexProduct">
					{{#products}}
					<div class="col-lg-4 col-md-4 col-sm-6 col-12 mb-4">
						<a href="/product/{{id}}" class="product-link">
							<div class="product product-card">
								<div class="product-img">
									{{#image}}
										<img src="/product/{{id}}/image" alt="Product Image">
									{{/image}}
									{{^image}}
										<img src="/img/default-product.png" alt="Not available image">
									{{/image}}
									<div class="product-label">
										
									</div>
								</div>
								<div class="product-body">
									<p class="product-category">Category</p>
									<h3 class="product-name"><a href="#">{{name}}</a></h3>
									<h4 class="product-price">{{iniValue}}</h4>
									{{#seller}}
									<div class="product-rating" data-reputation="{{reputation}}">
										<!--stars-->
									</div>
									{{/seller}}
								</div>
							</div>
						</a>
					</div>
					{{/products}}
				
					{{^products}}
					<p class="text-center">No products available</p>
					{{/products}}
				</div>
				
				<!-- /row -->
			</div>
			<!-- /container -->
			{{#button}}
				<div class="text-center">
					<button id="load-more-index" class="btn btn-danger">Load More</button>
					<div id="spinnerIndex" class="spinner-border text-primary d-block mx-auto" role="status" style="display: none !important; visibility: hidden;">
						<span class="visually-hidden">Loading...</span>
					</div>
				</div>
			{{/button}}
		</div>
		<!-- /SECTION -->

{{>footer}}

<script>
	document.addEventListener("DOMContentLoaded", async function () {
		const response = await fetch(`/product_template_index?page=${1}`);		
		if (response.ok) {
            const newPostsHTML = (await response.text()); 
            if (newPostsHTML != "") {
				
                if (newPostsHTML.trim() =="") {
                    document.getElementById("load-more-index").style.display = "none";
                    document.getElementById("spinnerIndex").style.visibility = "hidden";
                } 
            } 
            
        }
    });
</script>